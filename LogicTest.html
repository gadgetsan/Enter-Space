<html>
	<head>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 10%; height: 10% }
		</style>
	</head>
	<body>
		<script src="external/js/three.min.js"></script>
    <script src="external/js/FirstPersonControls.js"></script>
    
    <script src="src/Utilities.js"></script>
    <script src="src/Elements.js"></script>
    <script src="src/System.js"></script>
    <script src="src/World.js"></script>
    <script src="src/Factory.js"></script>
		<script>
	    var clock = new THREE.Clock(); // Used in render() for controls.update()
	    WORLDELEMENTS.GenerateNames();
	    //console.log(ORES);
	    //console.log(ELEMENTS);
	    
	    var deposit1 = new WORLD.Deposit(1, 0, 50);
	    var deposit2 = new WORLD.Deposit(1, 1, 50);
	    var retriever1 = new FACTORY.Retriever(deposit1);
	    var retriever2 = new FACTORY.Retriever(deposit1);
  	    retriever2.strength = 2;
  	    retriever2.frequency = 0.2;
	    var retriever3 = new FACTORY.Retriever(deposit2);
	    
	    var container1 = new FACTORY.Container();
	    
	    var pipe1 = new FACTORY.Pipe(retriever1, container1, 0);
	    var pipe2 = new FACTORY.Pipe(retriever2, container1, 0);
	    var pipe3 = new FACTORY.Pipe(retriever3, container1, 1);
	    
	    var refinery1 = new FACTORY.Refinery();
	    var refinery2 = new FACTORY.Refinery();
	    
	    var pipe4 = new FACTORY.Pipe(container1, refinery1, 1);
	    var pipe5 = new FACTORY.Pipe(container1, refinery2, 0);
	    
	    var container2 = new FACTORY.Container();
	    
	    var pipe6 = new FACTORY.Pipe(refinery1, container2, -1);
	    var pipe7 = new FACTORY.Pipe(refinery2, container2, -1);
	    
	    SYSTEM.AddComponent(retriever1);
	    SYSTEM.AddComponent(retriever2);
	    SYSTEM.AddComponent(retriever3);
	    SYSTEM.AddComponent(pipe1);
	    SYSTEM.AddComponent(pipe2);
	    SYSTEM.AddComponent(pipe3);
	    SYSTEM.AddComponent(container1);
	    SYSTEM.AddComponent(pipe4);
	    SYSTEM.AddComponent(pipe5);
	    SYSTEM.AddComponent(refinery1);
	    SYSTEM.AddComponent(refinery2);
	    SYSTEM.AddComponent(pipe6);
	    SYSTEM.AddComponent(pipe7);
	    SYSTEM.AddComponent(container2);
	    

			var render = function () {
				requestAnimationFrame( render );
				var delta = clock.getDelta();
				SYSTEM.tick(delta);
				//container1.DisplayInventory();
				refinery1.DisplayInventory();
				refinery2.DisplayInventory();
				container2.DisplayInventory();
			};
			

			render();
		</script>
	</body>
</html>